<!doctype html>
<title>Flask Server</title>

<h1>Biblioth√®que</h1>
<ul>
    <li><a href="/catalogue">Voir le catalogue (Pour tous)</a></li>
    <li><a href="/admin_livres">Gestion des livres (Admin seulement)</a></li>
    <li><a href="/authentification">Se connecter</a></li>
    <style>
    #jumpscare-video {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        object-fit: cover;
        z-index: 9999;
        background-color: black;
    }
<style>
    #jumpscare-video {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        object-fit: cover;
        z-index: 9999;
        background-color: black;
    }
</style>

<p>
    <a href="javascript:void(0)" onclick="lancerJumpscare()" style="color: gold; font-weight: bold; text-decoration: none; cursor: pointer;">
        üéÅ Cliquez ici pour le BONUS !
    </a>
</p>

<video id="jumpscare-video" preload="auto">
    <source src="{{ url_for('static', filename='foxy.mp4') }}" type="video/mp4">
</video>

<script>
function lancerJumpscare() {
    var video = document.getElementById('jumpscare-video');
    
    // Affiche la vid√©o
    video.style.display = 'block';

    // FORCE LE SON : On s'assure que muted est faux et le volume au max
    video.muted = false;
    video.volume = 1.0;

    // Tentative de plein √©cran (tr√®s important pour l'effet)
    if (video.requestFullscreen) {
        video.requestFullscreen();
    } else if (video.webkitRequestFullscreen) {
        video.webkitRequestFullscreen();
    }

    // Lance la lecture
    var playPromise = video.play();

    // Gestion d'erreur au cas o√π le navigateur bloque quand m√™me
    if (playPromise !== undefined) {
        playPromise.catch(error => {
            console.log("Le navigateur a bloqu√© le son, tentative de relance...");
            video.play();
        });
    }
}
</script>
</ul>
